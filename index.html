<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Password Puzzle</title>
<link rel="stylesheet" href="style.css" />
<script>
function monthsSince(date1, date2) {
  let years = date2.getFullYear() - date1.getFullYear();
  let months = date2.getMonth() - date1.getMonth();
  return years * 12 + months + (date2.getDate() >= date1.getDate() ? 0 : -1);
}

function checkPassword() {
  const pass = document.getElementById("password").value.trim();
  const clueList = document.getElementById("clue-list");
  const tryMsg = document.getElementById("try-again-msg");
  const correctPass = "happy22th13th";

  if (pass === correctPass) {
    window.location.href = "welcome.html";
  } else {
    tryMsg.style.display = "block";

    // New clue set after failed attempt
    const startDate = new Date(2023, 9, 13); // Oct 13, 2023
    const today = new Date();

    const months = monthsSince(startDate, today);
    const day = today.getDate();

    clueList.innerHTML = `
      <li>No spaces</li>
      <li>The first word is <strong>happy</strong></li>
      <li>The second part is how many months we are</li>
      <li>The third part is the day today</li>
      <li><strong>13 characters total</strong></li>
    `;

    document.getElementById("password").value = "";
  }
}

</script>
</head>
<body class="password-page">
  <div class="puzzle-box">
    <h1>üíå Enter the Secret Password</h1>
    <p><strong>Clues:</strong></p>
    <ul id="clue-list">
      <li>It‚Äôs what you feel when you see me ‚ù§Ô∏è</li>
      <li>Two special numbers: the day we met and our monthiversary</li>
      <li>Combine them into one continuous phrase</li>
    </ul>
    <p
      id="try-again-msg"
      style="color:#ff8ba7; font-weight:bold; display:none; margin-top:10px"
    >
      Try again, my love üíñ
    </p>
    <input type="password" id="password" placeholder="Enter password" />
    <button onclick="checkPassword()">Unlock</button>
  </div>
</body>
</html>
